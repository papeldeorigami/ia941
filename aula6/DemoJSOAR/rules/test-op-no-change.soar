pushd "./default" 
source selection.soar
popd

learn --on

sp {elaborate*top-state*top-state
   (state <s> ^superstate nil)
-->
   (<s> ^top-state <s>)
}

sp {elaborate*state*top-state
   (state <s> ^superstate.top-state <ts>)
-->
   (<s> ^top-state <ts>)
}

sp {propose*init
   (state <s> ^superstate nil
             -^init)
-->
   (<s> ^operator <o> +)
   (<o> ^name init)
}

sp {apply*init
   (state <s> ^operator.name init)
-->
   (<s> ^list <list> 
        ^init true 
        ^desired <d>)
   (<list> ^value 1 ^value 2 ^value 3)
   (<d> ^better low)
   (write (crlf) | Init |)
}

sp {propose*move
   (state <s> ^init true
              ^list <list>
              ^superstate nil)
-->
   (<s> ^operator <o> +)
   (<o> ^name move
        ^parameter <p>)
   (<p> ^list-copy (deep-copy <list>))
}

sp {apply*move
   (state <s> ^operator.name move
              ^target <target>)
-->
   (write (crlf) | Move: | <target> ||)
}

sp {propose*move*plan
   (state <s> ^impasse no-change
              ^superstate <ss>)
   (<ss> ^operator <o>)
   (<o> ^name move
        ^parameter <p>)
   (<p> ^list-copy <list>)
   (<list> ^value <value>)
-->
   (<s> ^operator <o> +)
   (<o> ^name move-plan
        ^parameter <p>)
   (<p> ^value <value>)
}

#sp {elaborate*problem-space
#   (state <s> ^init true)
#-->
#   (<s> ^problem-space <p>)
#   (<p> ^name move-plan-selection
#        ^default-state-copy yes
#        ^two-level-attributes list)
#}

sp {apply*move*plan
   (state <s> ^operator <o>
              ^superstate <ss>)
   (<o> ^name move-plan
        ^parameter.value <value>)
-->
   (<ss> ^target <value>)
   (write (crlf) | Apply move plan to value: | <value> ||)
}

